# Usar una versi贸n estable de Node.js
FROM node:20

# Establecer el directorio de trabajo dentro del contenedor
WORKDIR /app

# Copiar archivos del frontend al contenedor
COPY . .

# Configurar NPM para asegurarse de que usa el registro correcto y eliminar autenticaci贸n previa
RUN npm config set registry https://registry.npmjs.org/ \
    && npm config delete //registry.npmjs.org/:_authToken \
    && npm cache clean --force \
    && rm -rf ~/.npmrc

# Instalar dependencias sin autenticaci贸n
RUN npm install 
# Construir la aplicaci贸n
RUN npm run build

# Exponer el puerto del frontend
EXPOSE 5173

# Comando para iniciar el frontend
CMD ["npm", "run", "dev", "--", "--host", "0.0.0.0"]
